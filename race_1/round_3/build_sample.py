import numpy as np
import race_config
import matplotlib

from matplotlib import pyplot as plt
from obspy import read


def process(unit):
    file_std = np.load(race_config.STD_PATH + unit)
    file_std = np.sqrt(np.square(file_std[0]) + np.square(file_std[1]))
    file_range = np.load(race_config.PRE_RANGE_PATH + unit)

    file_data = read(race_config.DIR_PATH + unit[:-4] + ".BHN")[0].data

    print('total', len(file_range))

    plot_count = 5
    for i in np.arange(0, len(file_range), plot_count):
        if i % 20 == 0:
            print('-----')
        print(int(i / 5))

        for j in np.arange(min(len(file_range) - i, plot_count)):
            lr = file_range[i + j]
            left, right = lr[0], lr[1]

            plt.subplot(plot_count, 2, 1 + j * 2)
            plt.axvline(x=int((right - left) / 11), color='r')
            plt.plot(np.arange(right - left), file_std[left:right])

            plt.subplot(plot_count, 2, 2 + j * 2)
            plt.axvline(x=int((right - left) / 11 * 5), color='r')
            plt.plot(np.arange(right * 5 - left * 5), file_data[left * 5:right * 5])

        plt.show()


def save_sample():
    ret = []
    s1 = ['GS.WDT.2008196000000.npy']
    s1 += [1, 1, 0, 1, 0] + [0, 0, 1, 0, 0] + [0, 0, 1, 1, 0] + [0, 1, 1, 0, 1]
    s1 += [0, 0, 1, 1, 1] + [0, 0, 0, 0, 0] + [1] + []
    ret.append(s1)

    s2 = ['GS.WXT.2008203000000.npy']
    s2 += [0, 0, 0, 0, 0] + [0, 1, 0, 0, 1] + [0, 0, 0, 0, 0] + [1, 0, 0, 1, 1]
    s2 += [1, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0]
    s2 += [0, 0, 0, 0, 0] + [1, 1, 1, 0, 0] + [0, 0, 0, 0, 0] + [1, 1, 0, 1, 1]
    s2 += [0, 0, 1, 1, 1] + [1, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0]
    s2 += [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 1] + [0, 0, 0, 0, 0]
    s2 += [0, 1, 1, 0, 0] + [0, 1, 1, 1, 1] + [0, 1, 1, 1, 1] + [1, 1, 0, 1, 1]
    s2 += [1, 0, 1, 0, 1] + [0, 1, 1, 0, 1] + [0, 1, 0, 0, 0] + [0]
    ret.append(s2)

    s3 = ['SN.LUYA.2008197000000.npy']
    s3 += [1, 1, 0, 0, 0] + [0, 0, 0, 0, 0] + [1, 0, 1, 0, 0] + [0, 0, 0, 1, 0]
    s3 += [0, 1, 0, 0, 0] + [1, 1, 0, 1, 0] + [0, 1, 0, 1, 0] + [0, 1, 1, 1, 1]
    s3 += [1, 1] + [] + [] + []
    ret.append(s3)

    s4 = ['SN.MIAX.2008199000000.npy']
    s4 += [1, 1, 0, 0, 0] + [0, 0, 0, 0, 1] + [1, 0, 0, 0, 1] + [0, 1, 0, 0, 1]
    s4 += [1, 0, 1, 0, 1] + [0, 1, 0, 0, 1] + [1, 0, 1, 0, 1] + [1, 0, 1, 1, 1]
    s4 += [0, 1, 0, 1, 1] + [] + [] + []
    ret.append(s4)

    s5 = ['XX.HSH.2008198000000.npy']
    s5 += [0, 0, 0, 0, 0] + [0, 1, 0, 0, 0] + [0, 0, 1, 1, 0] + [0, 0, 0, 1, 0]
    s5 += [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 1, 0, 0, 1] + [0, 0, 0, 0, 0]
    s5 += [1, 1, 0, 1, 0] + [0, 1, 0, 0, 0] + [0, 0, 1, 0, 0] + [0, 0, 0, 0, 0]
    s5 += [0, 0, 0, 0, 0] + [0, 0, 0, 0, 1] + [0, 0, 0, 0, 0] + [1, 0, 1, 0, 0]
    s5 += [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0]
    s5 += [0, 0, 0, 0, 0] + [0, 0, 0, 0, 1] + [0, 0, 0, 1, 0] + [0, 0, 0, 0, 1]
    s5 += [1, 0, 0, 0, 0] + [0, 0, 1, 0, 1] + [0, 1, 1, 0, 1] + [1, 1, 0, 0, 0]
    s5 += [1, 0, 1, 0, 1] + [1, 0, 1, 1, 1] + [0, 1, 0, 1, 1] + [1, 0, 0, 1, 0]
    s5 += [0] + [] + [] + []
    ret.append(s5)

    s6 = ['XX.JJS.2008190000000.npy']
    s6 += [0, 0, 0, 0, 0] + [0, 0, 0, 1, 0] + [1, 0, 0, 0, 1] + [0, 0, 1, 0, 0]
    s6 += [0, 0, 0, 0, 0] + [0, 1, 0, 1, 0] + [0, 0, 0, 0, 0] + [1, 0, 0, 0, 0]
    s6 += [1, 0, 0, 0, 0] + [0, 0, 1, 0, 1] + [1, 0, 1, 0, 0] + [0, 0, 1, 0, 0]
    s6 += [0, 0, 1, 0, 0] + [1, 1, 1, 1, 0] + [0, 0, 1, 1, 1] + [0, 0, 0, 1, 0]
    s6 += [1, 0, 1, 0, 0] + [0] + [] + []
    ret.append(s6)

    s7 = ['XX.JMG.2008197000000.npy']
    s7 += [1, 1, 1, 1, 0] + [1, 1, 0, 1, 0] + [0, 1, 0, 1, 1] + [1, 1, 0, 1, 1]
    s7 += [0, 1, 0, 0, 1] + [0, 0, 0, 0, 0] + [0, 1, 0, 1, 0] + [0, 0, 0, 0, 0]
    s7 += [0, 0, 0, 0, 0] + [0, 1, 0, 1, 0] + [1, 0, 0, 0, 1] + [0, 0, 0, 0, 1]
    s7 += [0, 0, 1, 1, 1] + [1, 1, 1, 1, 0] + [1, 1, 1, 0, 1] + [0, 0, 0, 0, 1]
    s7 += [1, 1, 0, 0, 1] + [0, 1, 1, 1, 1] + [0, 0, 1, 1, 0] + [0, 1, 1, 1, 0]
    s7 += [1, 1, 1, 1, 1] + [0, 0, 1, 0, 1] + [1, 1, 1, 1, 0] + []
    ret.append(s7)

    s8 = ['XX.MXI.2008198000000.npy']
    s8 += [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [1, 0, 0, 0, 0]
    s8 += [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0]
    s8 += [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0]
    s8 += [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0]
    s8 += [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0]
    s8 += [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 1]
    s8 += [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0]
    s8 += [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0]
    s8 += [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0]
    s8 += [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 1, 0]
    s8 += [0, 0, 0, 0, 0] + [0, 0, 1, 0, 1] + [0, 0, 0, 1, 1] + [1, 1, 0, 0, 1]
    s8 += [1, 1, 1, 1, 1] + [1, 1, 1, 1, 1] + [0, 1, 0, 1, 1] + [1, 0, 1, 1, 1]
    s8 += [0, 1, 1, 1, 1] + [1, 0, 0, 1, 0] + [1, 1, 1, 1, 1] + [1, 1, 1, 1, 1]
    s8 += [0, 0, 0, 1, 1] + [0, 1, 0, 1, 0] + [1, 1, 1, 1, 1] + [1, 1, 1, 0, 1]
    s8 += [1, 1, 1, 1, 1] + [1, 1, 1, 1, 0] + [1, 1, 1, 1, 1] + [1, 1, 1, 1, 0]
    s8 += [0, 1, 1, 0, 1] + [1, 0, 1, 0, 1] + [0, 1, 0, 0, 0] + [0, 1, 0, 1, 0]
    s8 += [0, 0, 1, 1, 1] + [0, 1, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 1, 0, 0]
    s8 += [0, 0, 0, 0, 1] + [0, 0, 0, 1, 0] + [0, 0] + []
    ret.append(s8)

    s9 = ['XX.PWU.2008198000000.npy']
    s9 += [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0]
    s9 += [0, 0, 0, 0, 1] + [1, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0]
    s9 += [0, 0, 0, 0, 0] + [0, 0, 0, 0, 1] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 1]
    s9 += [0, 0, 0, 0, 0] + [0, 1, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0]
    s9 += [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 1, 1, 0, 0] + [0, 0, 0, 0, 0]
    s9 += [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 1, 0, 0] + [1, 0, 1, 1, 0]
    s9 += [1, 0, 0, 0, 0] + [0, 0, 1, 1, 1] + [1, 0, 1, 1, 1] + [1, 1, 1, 1, 0]
    s9 += [0, 0, 1, 0, 1] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0]
    s9 += [0, 0, 0, 0, 0] + [1, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0]
    s9 += [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0]
    s9 += [0, 0, 0, 0, 0] + [0, 0, 0, 0, 1] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0]
    s9 += [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 1, 1] + [0, 0, 0, 0, 0]
    s9 += [0, 0, 0, 1, 0] + [0, 0, 0, 0, 0] + [0, 0, 1, 0, 0] + [0, 0, 1, 0, 1]
    s9 += [0, 1, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0]
    s9 += [0, 0, 1, 0, 0] + [0, 0, 0, 0, 0] + [1, 0, 0, 1, 0] + [1, 0, 0, 0, 0]
    s9 += [0, 0, 0, 0, 0] + [1, 1, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 1, 0, 0, 0]
    s9 += [0, 0, 0, 0, 0] + [1, 1, 0, 0, 0] + [1, 0, 0, 0, 0] + [0, 0, 1, 1, 0]
    s9 += [0, 1, 1, 1, 1] + [1, 1, 1, 1, 1] + [0, 1, 0, 0, 1] + [1, 1, 1, 1, 0]
    s9 += [1, 1, 1, 1, 0] + [0, 1, 1, 0, 1] + [0, 0, 1, 1, 1] + [1, 0, 1, 1, 1]
    s9 += [0, 1, 1, 1, 1] + [0, 0, 0, 0, 1] + [1, 1, 1, 1, 0] + [1, 1, 1, 0, 1]
    s9 += [1, 0, 1, 1, 1] + [1, 1, 1, 1, 1] + [0, 1, 1, 1, 1] + [0, 0, 1, 0, 0]
    s9 += [1, 1, 0, 0, 1] + [1, 0, 1, 1, 1] + [1, 1, 0, 1, 0] + [1, 1, 0, 1, 1]
    s9 += [0, 0, 1, 1, 0] + [0, 1, 1, 1, 1] + [1, 1, 1, 0, 0] + [1, 1, 1, 1, 1]
    s9 += [1, 1, 1, 1, 1] + [1, 0, 0, 1, 1] + [0, 1, 1, 1, 1] + [1, 0, 1, 1, 1]
    s9 += [0, 0, 0, 0, 0] + [1, 1, 1, 1, 0] + [1, 0, 1, 1, 1] + [1, 1, 0, 0, 1]
    s9 += [0, 1, 1, 0, 1] + [2, 2, 2, 2, 2] + [0, 0, 0, 0, 1] + [0, 0, 0, 0, 0]
    ret.append(s9)

    s10 = ['XX.QCH.2008201000000.npy']
    s10 += [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 1, 0, 0]
    s10 += [0, 1, 1, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0]
    s10 += [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [1, 1, 0, 1, 0] + [0, 0, 0, 1, 0]
    s10 += [0, 0, 1, 0, 0] + [0, 0, 0, 0, 1] + [1, 1, 1, 0, 1] + [0, 0, 1, 1, 1]
    s10 += [1, 1, 1, 0, 1] + [0, 0, 0, 0, 0] + [0, 0, 1, 0, 1] + [0, 0, 0, 0, 1]
    s10 += [0, 0, 0, 0, 1] + [1, 0, 0, 0, 0] + [0, 0, 0, 1, 1] + [1, 1, 0, 1, 1]
    s10 += [0, 0, 1, 1, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 1, 0] + [0, 0, 0, 0, 0]
    s10 += [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0]
    s10 += [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0]
    s10 += [0, 0, 0, 0, 0] + [0, 0, 0, 0, 1] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0]
    s10 += [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0]
    s10 += [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 1, 1]
    s10 += [0, 0, 1, 1, 1] + [1, 1, 0, 0, 0] + [0, 0, 0, 0, 0] + [1, 0, 0, 0, 0]
    s10 += [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0]
    s10 += [0, 0, 0, 0, 0] + [1, 1, 0, 0, 1] + [0, 1, 1, 1, 1] + [1, 1, 0, 1, 1]
    s10 += [1, 1, 0, 1, 0] + [0, 1, 0, 1, 0] + [1, 1, 0, 1, 1] + [0, 0, 1, 1, 1]
    s10 += [0, 1, 1, 1, 1] + [1, 1, 0, 1, 0] + [1, 1, 0, 1, 1] + [1, 0, 1, 1, 0]
    s10 += [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [1]
    ret.append(s10)

    s11 = ['XX.SPA.2008188000000.npy']
    s11 += [0, 1, 1, 1, 1] + [0, 0, 1, 1, 0] + [1, 1, 1, 0, 0] + [0, 1, 1, 0, 0]
    s11 += [0, 0, 1, 0, 0] + [1, 1, 0, 1, 0] + [] + []
    ret.append(s11)

    s12 = ['XX.XCO.2008193000000.npy']
    s12 += [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 1, 1] + [1, 0, 1, 1, 1]
    s12 += [1, 1, 0, 0, 0] + [1, 0, 0, 0, 0] + [0, 0, 1, 0, 1] + [0, 0, 0, 0, 0]
    s12 += [0, 0, 0, 0, 0] + [0, 0, 0, 0, 0] + [0, 0, 0, 0, 1] + [0, 1, 0, 0, 0]
    s12 += [0, 1, 0, 0, 0] + [1, 1, 0, 0, 0] + [0, 1, 0, 0, 1] + [1, 1, 0, 0, 0]
    s12 += [0, 0, 1, 0, 0] + [0, 0, 0, 0] + [] + []
    ret.append(s12)

    # s = ['']
    # s += [] + [] + [] + []
    # ret.append(s)

    np.save(race_config.MODEL_SAMPLE_FILE, ret)


def main():
    p = matplotlib.rcParams
    p["figure.figsize"] = (15, 8)

    process('XX.XCO.2008193000000.npy')


if __name__ == '__main__':
    # main()
    save_sample()
